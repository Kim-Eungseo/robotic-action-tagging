# 🤖 로봇 행동 태깅 도구

로봇 팔의 연속적인 행동 사진들을 분석하고 각 구간별로 행동을 태깅할 수 있는 웹 애플리케이션입니다. 아이폰의 영상 편집 인터페이스를 참고하여 직관적인 타임라인 기반 태깅이 가능합니다.

## ✨ 주요 기능

- **이미지 시퀀스 재생**: 로봇의 연속적인 행동 사진들을 동영상처럼 재생
- **타임라인 인터페이스**: 아이폰 영상 편집 스타일의 직관적인 타임라인
- **구간별 태깅**: 각 행동 구간에 이름과 설명 추가
- **재생 제어**: 재생/일시정지, 프레임별 이동, 속도 조절
- **데이터 관리**: 태깅 데이터 내보내기/가져오기 (JSON 형식)
- **키보드 단축키**: 빠른 조작을 위한 키보드 지원

## 🚀 시작하기

### 실행 방법

1. 웹 서버가 필요합니다. Python을 사용한 간단한 방법:
   ```bash
   python -m http.server 8000
   ```

2. 브라우저에서 `http://localhost:8000` 접속

### 사용 방법

#### 1. 이미지 업로드
- "이미지 시퀀스 업로드" 버튼 클릭
- 로봇 행동의 연속 사진들을 선택 (여러 개 선택 가능)
- 파일명 순서대로 자동 정렬됩니다

#### 2. 기본 재생 제어
- **▶️ 재생/⏸️ 일시정지**: 이미지 시퀀스 재생
- **⏮️ 이전/⏭️ 다음**: 프레임별 이동
- **속도 조절**: 0.5x ~ 4x까지 재생 속도 변경

#### 3. 타임라인 조작
- 타임라인 클릭으로 특정 프레임으로 이동
- 빨간색 인디케이터가 현재 프레임 위치 표시
- 파란색 태그 구간들로 행동 범위 확인

#### 4. 행동 태깅
- **새 태그 추가**: 현재 프레임부터 2초 기본 길이의 새 태그 생성
- **태그 편집**: 타임라인의 태그 구간 클릭하여 편집
- **태그 정보**:
  - 행동 이름 (필수)
  - 시작/끝 프레임
  - 상세 설명 (선택)

#### 5. 태그 관리
- **태그 목록**: 모든 태그를 시간 순으로 표시
- **태그 선택**: 목록에서 클릭하면 해당 프레임으로 이동
- **태그 편집**: 더블클릭으로 편집 모드 진입

#### 6. 데이터 관리
- **내보내기**: 태깅 데이터를 JSON 파일로 저장
- **가져오기**: 이전에 저장한 태깅 데이터 불러오기

## ⌨️ 키보드 단축키

| 키 | 기능 |
|---|---|
| `스페이스바` | 재생/일시정지 토글 |
| `←` | 이전 프레임 |
| `→` | 다음 프레임 |
| `ESC` | 태그 편집 취소 |

## 📁 파일 구조

```
robotic-action-tagging/
├── index.html          # 메인 HTML 파일
├── style.css           # 스타일시트
├── script.js           # JavaScript 로직
└── README.md           # 사용 설명서
```

## 🎯 사용 시나리오

### 일반적인 워크플로우

1. **이미지 준비**: 로봇 행동을 연속적으로 촬영한 이미지들을 준비
2. **업로드**: 웹 애플리케이션에 이미지 시퀀스 업로드
3. **분석**: 재생하면서 로봇의 행동 패턴 관찰
4. **태깅**: 의미있는 행동 구간들에 태그 추가
   - 예: "물건 집기", "이동하기", "놓기", "대기" 등
5. **저장**: 태깅 데이터를 JSON으로 내보내기

### 태깅 예시

- **"물건 집기" (프레임 0-25)**: 로봇이 물건에 접근하여 집는 동작
- **"이동하기" (프레임 26-50)**: 물건을 들고 목표 위치로 이동
- **"놓기" (프레임 51-75)**: 목표 위치에 물건을 정확히 배치
- **"복귀" (프레임 76-100)**: 초기 위치로 돌아가는 동작

## 🔧 기술 스택

- **Frontend**: 바닐라 HTML, CSS, JavaScript
- **스타일링**: CSS Grid, Flexbox, CSS 변수
- **호환성**: 모던 브라우저 (Chrome, Firefox, Safari, Edge)

## 📊 데이터 형식

내보낸 JSON 파일은 다음과 같은 구조를 가집니다:

```json
{
  "tags": [
    {
      "id": 1640995200000,
      "name": "물건 집기",
      "startFrame": 0,
      "endFrame": 25,
      "description": "로봇 팔이 테이블 위의 물건에 접근하여 집는 동작"
    }
  ],
  "totalFrames": 100,
  "fps": 10,
  "exportTime": "2024-01-01T00:00:00.000Z",
  "version": "1.0"
}
```

## 🐛 문제 해결

### 이미지가 업로드되지 않는 경우
- 브라우저가 파일 형식을 지원하는지 확인 (JPG, PNG, GIF 등)
- 파일 크기가 너무 크지 않은지 확인
- 브라우저의 JavaScript가 활성화되어 있는지 확인

### 재생이 부드럽지 않은 경우
- 이미지 크기를 줄여보세요
- 재생 속도를 낮춰보세요
- 브라우저의 성능 설정을 확인해보세요

## 📝 추가 개발 아이디어

- [ ] 드래그 앤 드롭으로 이미지 업로드
- [ ] 태그 색상 커스터마이징
- [ ] 비디오 파일 직접 지원
- [ ] 태그 템플릿 기능
- [ ] 다중 선택 및 일괄 편집
- [ ] 통계 및 분석 기능

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다. 